<!DOCTYPE html>
<html>
<head>
	<title>Tic Tac Toe</title>
	<style type="text/css">
		table {
			border-collapse: collapse;
		}
		td {
			width: 50px;
			height: 50px;
			border: 1px solid black;
			text-align: center;
			font-size: 36px;
			cursor: pointer;
		}
		td:hover {
			background-color: #ccc;
		}
	</style>
</head>
<body>

<h1>Tic Tac Toe</h1>

<table>
	<tr>
		<td id="0"></td>
		<td id="1"></td>
		<td id="2"></td>
	</tr>
	<tr>
		<td id="3"></td>
		<td id="4"></td>
		<td id="5"></td>
	</tr>
	<tr>
		<td id="6"></td>
		<td id="7"></td>
		<td id="8"></td>
	</tr>
</table>

<p id="message"></p>

<script type="text/javascript">
	var turn = "X";
	var moves = 0;
	var gameOver = false;

	function handleClick(event) {
		if (gameOver) {
			return;
		}

		var cell = event.target;
		if (cell.innerHTML !== "") {
			return;
		}

		cell.innerHTML = turn;
		moves++;

		if (checkWin()) {
			gameOver = true;
			document.getElementById("message").innerHTML = turn + " wins!";
			return;
		}

		if (moves === 9) {
			gameOver = true;
			document.getElementById("message").innerHTML = "Tie game!";
			return;
		}

		turn = turn === "X" ? "O" : "X";
		document.getElementById("message").innerHTML = turn + "'s turn";
	}

	function checkWin() {
		var cells = document.getElementsByTagName("td");
		var combos = [
			[0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
			[0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
			[0, 4, 8], [2, 4, 6] // diagonals
		];

		for (var i = 0; i < combos.length; i++) {
			var a = combos[i][0];
			var b = combos[i][1];
			var c = combos[i][2];

			if (cells[a].innerHTML === turn && cells[b].innerHTML === turn && cells[c].innerHTML === turn) {
				return true;
			}
		}

		return false;
	}

	var cells = document.getElementsByTagName("td");
	for (var i = 0; i < cells.length; i++) {
		cells[i].addEventListener("click", handleClick);
	}

	document.getElementById("message").innerHTML = turn + "'s turn";
</script>

</body>
</html>
